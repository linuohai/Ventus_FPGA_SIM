// Generated by CIRCT firtool-1.62.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for prints and assertions.

// Users can define 'PRINTF_COND' to add an extra gate to prints.
`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

// Users can define 'ASSERT_VERBOSE_COND' to add an extra gate to assert error printing.
`ifndef ASSERT_VERBOSE_COND_
  `ifdef ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ (`ASSERT_VERBOSE_COND)
  `else  // ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ 1
  `endif // ASSERT_VERBOSE_COND
`endif // not def ASSERT_VERBOSE_COND_

// Users can define 'STOP_COND' to add an extra gate to stop conditions.
`ifndef STOP_COND_
  `ifdef STOP_COND
    `define STOP_COND_ (`STOP_COND)
  `else  // STOP_COND
    `define STOP_COND_ 1
  `endif // STOP_COND
`endif // not def STOP_COND_

module branch_join(	// ventus/src/pipeline/branch_join.scala:65:7
  input         clock,	// ventus/src/pipeline/branch_join.scala:65:7
                reset,	// ventus/src/pipeline/branch_join.scala:65:7
  output        io_branch_ctl_ready,	// ventus/src/pipeline/branch_join.scala:66:14
  input         io_branch_ctl_valid,	// ventus/src/pipeline/branch_join.scala:66:14
                io_branch_ctl_bits_opcode,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [1:0]  io_branch_ctl_bits_wid,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [31:0] io_branch_ctl_bits_PC_branch,	// ventus/src/pipeline/branch_join.scala:66:14
                io_branch_ctl_bits_PC_execute,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [15:0] io_branch_ctl_bits_mask_init,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [7:0]  io_branch_ctl_bits_spike_info_sm_id,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [31:0] io_branch_ctl_bits_spike_info_pc,	// ventus/src/pipeline/branch_join.scala:66:14
                io_branch_ctl_bits_spike_info_inst,	// ventus/src/pipeline/branch_join.scala:66:14
  output        io_if_mask_ready,	// ventus/src/pipeline/branch_join.scala:66:14
  input         io_if_mask_valid,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [15:0] io_if_mask_bits_if_mask,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [1:0]  io_if_mask_bits_wid,	// ventus/src/pipeline/branch_join.scala:66:14
  input         io_pc_reconv_valid,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [31:0] io_pc_reconv_bits,	// ventus/src/pipeline/branch_join.scala:66:14
  input  [1:0]  io_input_wid,	// ventus/src/pipeline/branch_join.scala:66:14
  output [15:0] io_out_mask,	// ventus/src/pipeline/branch_join.scala:66:14
  output        io_complete_valid,	// ventus/src/pipeline/branch_join.scala:66:14
  output [1:0]  io_complete_bits,	// ventus/src/pipeline/branch_join.scala:66:14
  input         io_fetch_ctl_ready,	// ventus/src/pipeline/branch_join.scala:66:14
  output        io_fetch_ctl_valid,	// ventus/src/pipeline/branch_join.scala:66:14
  output [1:0]  io_fetch_ctl_bits_wid,	// ventus/src/pipeline/branch_join.scala:66:14
  output        io_fetch_ctl_bits_jump,	// ventus/src/pipeline/branch_join.scala:66:14
  output [31:0] io_fetch_ctl_bits_new_pc,	// ventus/src/pipeline/branch_join.scala:66:14
  output [7:0]  io_fetch_ctl_bits_spike_info_sm_id,	// ventus/src/pipeline/branch_join.scala:66:14
  output [31:0] io_fetch_ctl_bits_spike_info_pc,	// ventus/src/pipeline/branch_join.scala:66:14
                io_fetch_ctl_bits_spike_info_inst	// ventus/src/pipeline/branch_join.scala:66:14
);

  wire             _divOccur_T;	// ventus/src/pipeline/branch_join.scala:148:24
  wire             ifOnly;	// ventus/src/pipeline/branch_join.scala:146:25
  wire             takeif;	// ventus/src/pipeline/branch_join.scala:145:45
  wire             _branch_join_stack_3_io_jump;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [31:0]      _branch_join_stack_3_io_newPC;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [15:0]      _branch_join_stack_3_io_newMask;	// ventus/src/pipeline/branch_join.scala:112:51
  wire             _branch_join_stack_2_io_jump;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [31:0]      _branch_join_stack_2_io_newPC;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [15:0]      _branch_join_stack_2_io_newMask;	// ventus/src/pipeline/branch_join.scala:112:51
  wire             _branch_join_stack_1_io_jump;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [31:0]      _branch_join_stack_1_io_newPC;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [15:0]      _branch_join_stack_1_io_newMask;	// ventus/src/pipeline/branch_join.scala:112:51
  wire             _branch_join_stack_io_jump;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [31:0]      _branch_join_stack_io_newPC;	// ventus/src/pipeline/branch_join.scala:112:51
  wire [15:0]      _branch_join_stack_io_newMask;	// ventus/src/pipeline/branch_join.scala:112:51
  wire             _fetch_ctl_buf_io_enq_ready;	// ventus/src/pipeline/branch_join.scala:88:29
  wire [31:0]      _PC_reconv_buf_q_io_deq_bits;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire             _branch_ctl_buf_q_io_enq_ready;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire             _branch_ctl_buf_q_io_deq_valid;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire             _branch_ctl_buf_q_io_deq_bits_opcode;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [1:0]       _branch_ctl_buf_q_io_deq_bits_wid;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [31:0]      _branch_ctl_buf_q_io_deq_bits_PC_branch;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [31:0]      _branch_ctl_buf_q_io_deq_bits_PC_execute;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [15:0]      _branch_ctl_buf_q_io_deq_bits_mask_init;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [7:0]       _branch_ctl_buf_q_io_deq_bits_spike_info_sm_id;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [31:0]      _branch_ctl_buf_q_io_deq_bits_spike_info_pc;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  wire [31:0]      _branch_ctl_buf_q_io_deq_bits_spike_info_inst;	// src/main/scala/chisel3/util/Decoupled.scala:362:21
  reg  [15:0]      thread_masks_0;	// ventus/src/pipeline/branch_join.scala:90:29
  reg  [15:0]      thread_masks_1;	// ventus/src/pipeline/branch_join.scala:90:29
  reg  [15:0]      thread_masks_2;	// ventus/src/pipeline/branch_join.scala:90:29
  reg  [15:0]      thread_masks_3;	// ventus/src/pipeline/branch_join.scala:90:29
  wire             _q_io_deq_ready_T_1 = _fetch_ctl_buf_io_enq_ready & io_if_mask_valid;	// src/main/scala/chisel3/util/Decoupled.scala:51:35, ventus/src/pipeline/branch_join.scala:88:29
  wire             io_complete_valid_0 =
    _q_io_deq_ready_T_1 & ~_branch_ctl_buf_q_io_deq_bits_opcode
    & _branch_ctl_buf_q_io_deq_valid & takeif;	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:{51,82}, :145:45
  wire             _GEN =
    _fetch_ctl_buf_io_enq_ready
    & (_branch_ctl_buf_q_io_deq_valid & ~_branch_ctl_buf_q_io_deq_bits_opcode
       & _branch_ctl_buf_q_io_deq_bits_wid == io_if_mask_bits_wid
         ? _q_io_deq_ready_T_1
         : _branch_ctl_buf_q_io_deq_valid & _branch_ctl_buf_q_io_deq_bits_opcode);	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:88:29, :120:51, :124:36, :125:{50,77,104}, :126:28, :128:{37,57}, :136:26
  wire [15:0]      if_mask =
    io_if_mask_bits_if_mask & _branch_ctl_buf_q_io_deq_bits_mask_init;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:141:39
  wire [15:0]      else_mask =
    ~io_if_mask_bits_if_mask & _branch_ctl_buf_q_io_deq_bits_mask_init;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:142:{17,51}
  assign takeif =
    {1'h0,
     {1'h0,
      {1'h0, {1'h0, if_mask[0]} + {1'h0, if_mask[1]}}
        + {1'h0, {1'h0, if_mask[2]} + {1'h0, if_mask[3]}}}
       + {1'h0,
          {1'h0, {1'h0, if_mask[4]} + {1'h0, if_mask[5]}}
            + {1'h0, {1'h0, if_mask[6]} + {1'h0, if_mask[7]}}}}
    + {1'h0,
       {1'h0,
        {1'h0, {1'h0, if_mask[8]} + {1'h0, if_mask[9]}}
          + {1'h0, {1'h0, if_mask[10]} + {1'h0, if_mask[11]}}}
         + {1'h0,
            {1'h0, {1'h0, if_mask[12]} + {1'h0, if_mask[13]}}
              + {1'h0,
                 {1'h0, if_mask[14]}
                   + {1'h0,
                      if_mask[15]}}}} < {1'h0,
                                         {1'h0,
                                          {1'h0,
                                           {1'h0, else_mask[0]} + {1'h0, else_mask[1]}}
                                            + {1'h0,
                                               {1'h0, else_mask[2]}
                                                 + {1'h0, else_mask[3]}}}
                                           + {1'h0,
                                              {1'h0,
                                               {1'h0, else_mask[4]}
                                                 + {1'h0, else_mask[5]}}
                                                + {1'h0,
                                                   {1'h0, else_mask[6]}
                                                     + {1'h0, else_mask[7]}}}}
    + {1'h0,
       {1'h0,
        {1'h0, {1'h0, else_mask[8]} + {1'h0, else_mask[9]}}
          + {1'h0, {1'h0, else_mask[10]} + {1'h0, else_mask[11]}}}
         + {1'h0,
            {1'h0, {1'h0, else_mask[12]} + {1'h0, else_mask[13]}}
              + {1'h0, {1'h0, else_mask[14]} + {1'h0, else_mask[15]}}}} & ~_divOccur_T
    | ifOnly;	// ventus/src/pipeline/branch_join.scala:65:7, :141:39, :142:51, :143:20, :144:22, :145:{21,32,45}, :146:25, :148:{15,24}
  assign ifOnly = else_mask == 16'h0;	// ventus/src/pipeline/branch_join.scala:142:51, :146:25
  wire             elseOnly = if_mask == 16'h0;	// ventus/src/pipeline/branch_join.scala:141:39, :146:25, :147:30
  assign _divOccur_T = ifOnly | elseOnly;	// ventus/src/pipeline/branch_join.scala:146:25, :147:30, :148:24
  wire [15:0]      pushentry_newMask = takeif ? else_mask : if_mask;	// ventus/src/pipeline/branch_join.scala:141:39, :142:51, :145:45, :150:15, :151:23, :154:23
  wire [31:0]      pushentry_jumpPC =
    takeif
      ? _branch_ctl_buf_q_io_deq_bits_PC_branch
      : _branch_ctl_buf_q_io_deq_bits_PC_execute + 32'h4;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:145:45, :150:15, :152:23, :155:{23,38}
  wire             _pop_3_T_1 = _GEN & _branch_ctl_buf_q_io_deq_valid;	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:124:36, :125:104, :136:26
  wire             _pop_1_T_3 = _branch_ctl_buf_q_io_deq_bits_wid == 2'h1;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7, :159:73
  wire             _pop_2_T_3 = _branch_ctl_buf_q_io_deq_bits_wid == 2'h2;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7, :159:73
  wire [3:0]       _GEN_0 =
    {{_branch_join_stack_3_io_jump},
     {_branch_join_stack_2_io_jump},
     {_branch_join_stack_1_io_jump},
     {_branch_join_stack_io_jump}};	// ventus/src/pipeline/branch_join.scala:112:51, :170:11
  wire             popjump = _GEN_0[_branch_ctl_buf_q_io_deq_bits_wid];	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:170:11
  wire [3:0][31:0] _GEN_1 =
    {{_branch_join_stack_3_io_newPC},
     {_branch_join_stack_2_io_newPC},
     {_branch_join_stack_1_io_newPC},
     {_branch_join_stack_io_newPC}};	// ventus/src/pipeline/branch_join.scala:112:51, :171:10
  wire [31:0]      popPC = _GEN_1[_branch_ctl_buf_q_io_deq_bits_wid];	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:171:10
  wire [3:0][15:0] _GEN_2 =
    {{_branch_join_stack_3_io_newMask},
     {_branch_join_stack_2_io_newMask},
     {_branch_join_stack_1_io_newMask},
     {_branch_join_stack_io_newMask}};	// ventus/src/pipeline/branch_join.scala:112:51, :172:11
  wire [15:0]      popMask = _GEN_2[_branch_ctl_buf_q_io_deq_bits_wid];	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:172:11
  wire             _GEN_3 =
    _branch_ctl_buf_q_io_deq_bits_opcode & _branch_ctl_buf_q_io_deq_valid;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:185:23
  wire             _GEN_4 =
    ~_branch_ctl_buf_q_io_deq_bits_opcode & _branch_ctl_buf_q_io_deq_valid
    & io_if_mask_valid & (~takeif | elseOnly);	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:120:51, :145:45, :147:30, :196:{74,79,88}
  `ifndef SYNTHESIS	// ventus/src/pipeline/branch_join.scala:213:15
    always @(posedge clock) begin	// ventus/src/pipeline/branch_join.scala:213:15
      automatic logic _GEN_5 =
        io_complete_valid_0 & ~(_branch_ctl_buf_q_io_enq_ready & io_branch_ctl_valid);	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:82, :206:{68,71}
      if ((`PRINTF_COND_) & _GEN_5 & ~_branch_ctl_buf_q_io_deq_bits_opcode & ~reset) begin	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:206:68, :208:39, :213:15
        automatic logic [15:0] mask = takeif ? if_mask : else_mask;	// ventus/src/pipeline/branch_join.scala:141:39, :142:51, :145:45, :210:23
        $fwrite(32'h80000002,
                "sm %d warp %d 0x%x 0x%x vbranch     current mask and npc:   %x%x%x%x%x%x%x%x%x%x%x%x%x%x%x%x 0x%x, take_if=%d\n",
                _branch_ctl_buf_q_io_deq_bits_spike_info_sm_id,
                _branch_ctl_buf_q_io_deq_bits_wid,
                _branch_ctl_buf_q_io_deq_bits_spike_info_pc,
                _branch_ctl_buf_q_io_deq_bits_spike_info_inst, mask[15], mask[14],
                mask[13], mask[12], mask[11], mask[10], mask[9], mask[8], mask[7],
                mask[6], mask[5], mask[4], mask[3], mask[2], mask[1], mask[0],
                takeif
                  ? _branch_ctl_buf_q_io_deq_bits_spike_info_pc + 32'h4
                  : _branch_ctl_buf_q_io_deq_bits_PC_branch, takeif);	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:145:45, :155:38, :210:23, :211:{27,74}, :212:37, :213:15
      end
      if ((`PRINTF_COND_) & _GEN_5 & _branch_ctl_buf_q_io_deq_bits_opcode & ~reset)	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:206:68, :213:15, :215:15
        $fwrite(32'h80000002, "sm %d warp %d 0x%x 0x%x\n",
                _branch_ctl_buf_q_io_deq_bits_spike_info_sm_id,
                _branch_ctl_buf_q_io_deq_bits_wid,
                _branch_ctl_buf_q_io_deq_bits_spike_info_pc,
                _branch_ctl_buf_q_io_deq_bits_spike_info_inst);	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:213:15, :215:15
      if ((`PRINTF_COND_) & _branch_ctl_buf_q_io_deq_bits_opcode
          & _branch_ctl_buf_q_io_deq_valid & ~reset)	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:213:15, :223:13
        $fwrite(32'h80000002,
                "sm %d warp %d 0x%x 0x%x join    mask and npc:    %x%x%x%x%x%x%x%x%x%x%x%x%x%x%x%x 0x%x pop stack ? %d\n",
                _branch_ctl_buf_q_io_deq_bits_spike_info_sm_id,
                _branch_ctl_buf_q_io_deq_bits_wid,
                _branch_ctl_buf_q_io_deq_bits_spike_info_pc,
                _branch_ctl_buf_q_io_deq_bits_spike_info_inst, popMask[15], popMask[14],
                popMask[13], popMask[12], popMask[11], popMask[10], popMask[9],
                popMask[8], popMask[7], popMask[6], popMask[5], popMask[4], popMask[3],
                popMask[2], popMask[1], popMask[0], popPC, popjump);	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:170:11, :171:10, :172:11, :213:15, :221:27, :223:13
    end // always @(posedge)
  `endif // not def SYNTHESIS
  wire [3:0][15:0] _GEN_6 =
    {{thread_masks_3}, {thread_masks_2}, {thread_masks_1}, {thread_masks_0}};	// ventus/src/pipeline/branch_join.scala:90:29, :243:15
  always @(posedge clock) begin	// ventus/src/pipeline/branch_join.scala:65:7
    if (reset) begin	// ventus/src/pipeline/branch_join.scala:65:7
      thread_masks_0 <= 16'hFFFF;	// ventus/src/pipeline/branch_join.scala:90:{29,57}
      thread_masks_1 <= 16'hFFFF;	// ventus/src/pipeline/branch_join.scala:90:{29,57}
      thread_masks_2 <= 16'hFFFF;	// ventus/src/pipeline/branch_join.scala:90:{29,57}
      thread_masks_3 <= 16'hFFFF;	// ventus/src/pipeline/branch_join.scala:90:{29,57}
    end
    else begin	// ventus/src/pipeline/branch_join.scala:65:7
      automatic logic _GEN_7;	// ventus/src/pipeline/branch_join.scala:235:31
      automatic logic _GEN_8;	// ventus/src/pipeline/branch_join.scala:235:31
      _GEN_7 = _branch_ctl_buf_q_io_deq_bits_wid == 2'h1;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7, :235:31
      _GEN_8 = _branch_ctl_buf_q_io_deq_bits_wid == 2'h2;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7, :235:31
      if (_q_io_deq_ready_T_1) begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35
        automatic logic [15:0] _GEN_9;	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :237:31
        _GEN_9 = takeif ? if_mask : else_mask;	// ventus/src/pipeline/branch_join.scala:90:29, :141:39, :142:51, :145:45, :235:31, :237:31
        if (_divOccur_T | (|_branch_ctl_buf_q_io_deq_bits_wid)) begin	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:90:29, :148:24, :159:73, :233:19, :234:19
        end
        else	// ventus/src/pipeline/branch_join.scala:90:29, :233:19, :234:19
          thread_masks_0 <= _GEN_9;	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :237:31
        if (_divOccur_T | ~_GEN_7) begin	// ventus/src/pipeline/branch_join.scala:90:29, :148:24, :233:19, :234:19, :235:31
        end
        else	// ventus/src/pipeline/branch_join.scala:90:29, :233:19, :234:19
          thread_masks_1 <= _GEN_9;	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :237:31
        if (_divOccur_T | ~_GEN_8) begin	// ventus/src/pipeline/branch_join.scala:90:29, :148:24, :233:19, :234:19, :235:31
        end
        else	// ventus/src/pipeline/branch_join.scala:90:29, :233:19, :234:19
          thread_masks_2 <= _GEN_9;	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :237:31
        if (_divOccur_T | ~(&_branch_ctl_buf_q_io_deq_bits_wid)) begin	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:90:29, :148:24, :233:19, :234:19, :235:31
        end
        else	// ventus/src/pipeline/branch_join.scala:90:29, :233:19, :234:19
          thread_masks_3 <= _GEN_9;	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :237:31
      end
      else begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35
        automatic logic _GEN_10 = _GEN_3 & popjump;	// ventus/src/pipeline/branch_join.scala:170:11, :185:23, :240:53
        if (_GEN_10 & ~(|_branch_ctl_buf_q_io_deq_bits_wid))	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:90:29, :159:73, :235:31, :240:{53,64}, :241:27
          thread_masks_0 <= popMask;	// ventus/src/pipeline/branch_join.scala:90:29, :172:11
        if (_GEN_10 & _GEN_7)	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :240:{53,64}, :241:27
          thread_masks_1 <= popMask;	// ventus/src/pipeline/branch_join.scala:90:29, :172:11
        if (_GEN_10 & _GEN_8)	// ventus/src/pipeline/branch_join.scala:90:29, :235:31, :240:{53,64}, :241:27
          thread_masks_2 <= popMask;	// ventus/src/pipeline/branch_join.scala:90:29, :172:11
        if (_GEN_10 & (&_branch_ctl_buf_q_io_deq_bits_wid))	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:90:29, :235:31, :240:{53,64}, :241:27
          thread_masks_3 <= popMask;	// ventus/src/pipeline/branch_join.scala:90:29, :172:11
      end
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// ventus/src/pipeline/branch_join.scala:65:7
    `ifdef FIRRTL_BEFORE_INITIAL	// ventus/src/pipeline/branch_join.scala:65:7
      `FIRRTL_BEFORE_INITIAL	// ventus/src/pipeline/branch_join.scala:65:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// ventus/src/pipeline/branch_join.scala:65:7
      automatic logic [31:0] _RANDOM[0:1];	// ventus/src/pipeline/branch_join.scala:65:7
      `ifdef INIT_RANDOM_PROLOG_	// ventus/src/pipeline/branch_join.scala:65:7
        `INIT_RANDOM_PROLOG_	// ventus/src/pipeline/branch_join.scala:65:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// ventus/src/pipeline/branch_join.scala:65:7
        for (logic [1:0] i = 2'h0; i < 2'h2; i += 2'h1) begin
          _RANDOM[i[0]] = `RANDOM;	// ventus/src/pipeline/branch_join.scala:65:7
        end	// ventus/src/pipeline/branch_join.scala:65:7
        thread_masks_0 = _RANDOM[1'h0][15:0];	// ventus/src/pipeline/branch_join.scala:65:7, :90:29
        thread_masks_1 = _RANDOM[1'h0][31:16];	// ventus/src/pipeline/branch_join.scala:65:7, :90:29
        thread_masks_2 = _RANDOM[1'h1][15:0];	// ventus/src/pipeline/branch_join.scala:65:7, :90:29
        thread_masks_3 = _RANDOM[1'h1][31:16];	// ventus/src/pipeline/branch_join.scala:65:7, :90:29
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// ventus/src/pipeline/branch_join.scala:65:7
      `FIRRTL_AFTER_INITIAL	// ventus/src/pipeline/branch_join.scala:65:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Queue1_simtExeData branch_ctl_buf_q (	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .clock                        (clock),
    .reset                        (reset),
    .io_enq_ready                 (_branch_ctl_buf_q_io_enq_ready),
    .io_enq_valid                 (io_branch_ctl_valid),
    .io_enq_bits_opcode           (io_branch_ctl_bits_opcode),
    .io_enq_bits_wid              (io_branch_ctl_bits_wid),
    .io_enq_bits_PC_branch        (io_branch_ctl_bits_PC_branch),
    .io_enq_bits_PC_execute       (io_branch_ctl_bits_PC_execute),
    .io_enq_bits_mask_init        (io_branch_ctl_bits_mask_init),
    .io_enq_bits_spike_info_sm_id (io_branch_ctl_bits_spike_info_sm_id),
    .io_enq_bits_spike_info_pc    (io_branch_ctl_bits_spike_info_pc),
    .io_enq_bits_spike_info_inst  (io_branch_ctl_bits_spike_info_inst),
    .io_deq_ready                 (_GEN),	// ventus/src/pipeline/branch_join.scala:124:36, :125:104, :136:26
    .io_deq_valid                 (_branch_ctl_buf_q_io_deq_valid),
    .io_deq_bits_opcode           (_branch_ctl_buf_q_io_deq_bits_opcode),
    .io_deq_bits_wid              (_branch_ctl_buf_q_io_deq_bits_wid),
    .io_deq_bits_PC_branch        (_branch_ctl_buf_q_io_deq_bits_PC_branch),
    .io_deq_bits_PC_execute       (_branch_ctl_buf_q_io_deq_bits_PC_execute),
    .io_deq_bits_mask_init        (_branch_ctl_buf_q_io_deq_bits_mask_init),
    .io_deq_bits_spike_info_sm_id (_branch_ctl_buf_q_io_deq_bits_spike_info_sm_id),
    .io_deq_bits_spike_info_pc    (_branch_ctl_buf_q_io_deq_bits_spike_info_pc),
    .io_deq_bits_spike_info_inst  (_branch_ctl_buf_q_io_deq_bits_spike_info_inst)
  );
  Queue1_UInt32 PC_reconv_buf_q (	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .clock        (clock),
    .reset        (reset),
    .io_enq_valid (io_pc_reconv_valid),
    .io_enq_bits  (io_pc_reconv_bits),
    .io_deq_ready (_GEN),	// ventus/src/pipeline/branch_join.scala:124:36, :125:104, :136:26
    .io_deq_bits  (_PC_reconv_buf_q_io_deq_bits)
  );
  Queue1_BranchCtrl_1 fetch_ctl_buf (	// ventus/src/pipeline/branch_join.scala:88:29
    .clock                        (clock),
    .reset                        (reset),
    .io_enq_ready                 (_fetch_ctl_buf_io_enq_ready),
    .io_enq_valid                 (_GEN_3 | _GEN_4),	// ventus/src/pipeline/branch_join.scala:185:{23,48}, :186:18, :196:{74,102}
    .io_enq_bits_wid              (_branch_ctl_buf_q_io_deq_bits_wid),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_enq_bits_jump             (_GEN_3 ? popjump : _GEN_4),	// ventus/src/pipeline/branch_join.scala:170:11, :185:{23,48}, :186:18, :196:{74,102}
    .io_enq_bits_new_pc
      (_GEN_3
         ? (popjump ? popPC : 32'h0)
         : _GEN_4 ? _branch_ctl_buf_q_io_deq_bits_PC_branch : 32'h0),	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:105:30, :170:11, :171:10, :181:20, :185:{23,48}, :186:18, :187:24, :191:24, :196:{74,102}, :197:22
    .io_enq_bits_spike_info_sm_id (_branch_ctl_buf_q_io_deq_bits_spike_info_sm_id),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_enq_bits_spike_info_pc    (_branch_ctl_buf_q_io_deq_bits_spike_info_pc),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_enq_bits_spike_info_inst  (_branch_ctl_buf_q_io_deq_bits_spike_info_inst),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_deq_ready                 (io_fetch_ctl_ready),
    .io_deq_valid                 (io_fetch_ctl_valid),
    .io_deq_bits_wid              (io_fetch_ctl_bits_wid),
    .io_deq_bits_jump             (io_fetch_ctl_bits_jump),
    .io_deq_bits_new_pc           (io_fetch_ctl_bits_new_pc),
    .io_deq_bits_spike_info_sm_id (io_fetch_ctl_bits_spike_info_sm_id),
    .io_deq_bits_spike_info_pc    (io_fetch_ctl_bits_spike_info_pc),
    .io_deq_bits_spike_info_inst  (io_fetch_ctl_bits_spike_info_inst)
  );
  branch_join_stack branch_join_stack (	// ventus/src/pipeline/branch_join.scala:112:51
    .clock               (clock),
    .reset               (reset),
    .io_push
      (~_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1
       & ~(|_branch_ctl_buf_q_io_deq_bits_wid) & ~_divOccur_T),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:51, :148:{15,24}, :159:{73,87}
    .io_pop
      (_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1
       & ~(|_branch_ctl_buf_q_io_deq_bits_wid)),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:159:73, :160:57
    .io_pushData_reconPC (_PC_reconv_buf_q_io_deq_bits),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_pushData_jumpPC  (pushentry_jumpPC),	// ventus/src/pipeline/branch_join.scala:150:15, :152:23, :155:23
    .io_pushData_newMask (pushentry_newMask),	// ventus/src/pipeline/branch_join.scala:150:15, :151:23, :154:23
    .io_threadMask       (thread_masks_0),	// ventus/src/pipeline/branch_join.scala:90:29
    .io_PCexecute        (_branch_ctl_buf_q_io_deq_bits_PC_execute),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_jump             (_branch_join_stack_io_jump),
    .io_newPC            (_branch_join_stack_io_newPC),
    .io_newMask          (_branch_join_stack_io_newMask)
  );
  branch_join_stack branch_join_stack_1 (	// ventus/src/pipeline/branch_join.scala:112:51
    .clock               (clock),
    .reset               (reset),
    .io_push
      (~_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1 & _pop_1_T_3 & ~_divOccur_T),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:51, :148:{15,24}, :159:{73,87}
    .io_pop              (_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1 & _pop_1_T_3),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:159:73, :160:57
    .io_pushData_reconPC (_PC_reconv_buf_q_io_deq_bits),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_pushData_jumpPC  (pushentry_jumpPC),	// ventus/src/pipeline/branch_join.scala:150:15, :152:23, :155:23
    .io_pushData_newMask (pushentry_newMask),	// ventus/src/pipeline/branch_join.scala:150:15, :151:23, :154:23
    .io_threadMask       (thread_masks_1),	// ventus/src/pipeline/branch_join.scala:90:29
    .io_PCexecute        (_branch_ctl_buf_q_io_deq_bits_PC_execute),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_jump             (_branch_join_stack_1_io_jump),
    .io_newPC            (_branch_join_stack_1_io_newPC),
    .io_newMask          (_branch_join_stack_1_io_newMask)
  );
  branch_join_stack branch_join_stack_2 (	// ventus/src/pipeline/branch_join.scala:112:51
    .clock               (clock),
    .reset               (reset),
    .io_push
      (~_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1 & _pop_2_T_3 & ~_divOccur_T),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:51, :148:{15,24}, :159:{73,87}
    .io_pop              (_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1 & _pop_2_T_3),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:159:73, :160:57
    .io_pushData_reconPC (_PC_reconv_buf_q_io_deq_bits),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_pushData_jumpPC  (pushentry_jumpPC),	// ventus/src/pipeline/branch_join.scala:150:15, :152:23, :155:23
    .io_pushData_newMask (pushentry_newMask),	// ventus/src/pipeline/branch_join.scala:150:15, :151:23, :154:23
    .io_threadMask       (thread_masks_2),	// ventus/src/pipeline/branch_join.scala:90:29
    .io_PCexecute        (_branch_ctl_buf_q_io_deq_bits_PC_execute),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_jump             (_branch_join_stack_2_io_jump),
    .io_newPC            (_branch_join_stack_2_io_newPC),
    .io_newMask          (_branch_join_stack_2_io_newMask)
  );
  branch_join_stack branch_join_stack_3 (	// ventus/src/pipeline/branch_join.scala:112:51
    .clock               (clock),
    .reset               (reset),
    .io_push
      (~_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1
       & (&_branch_ctl_buf_q_io_deq_bits_wid) & ~_divOccur_T),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:120:51, :148:{15,24}, :159:{73,87}
    .io_pop
      (_branch_ctl_buf_q_io_deq_bits_opcode & _pop_3_T_1
       & (&_branch_ctl_buf_q_io_deq_bits_wid)),	// src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21, ventus/src/pipeline/branch_join.scala:159:73, :160:57
    .io_pushData_reconPC (_PC_reconv_buf_q_io_deq_bits),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_pushData_jumpPC  (pushentry_jumpPC),	// ventus/src/pipeline/branch_join.scala:150:15, :152:23, :155:23
    .io_pushData_newMask (pushentry_newMask),	// ventus/src/pipeline/branch_join.scala:150:15, :151:23, :154:23
    .io_threadMask       (thread_masks_3),	// ventus/src/pipeline/branch_join.scala:90:29
    .io_PCexecute        (_branch_ctl_buf_q_io_deq_bits_PC_execute),	// src/main/scala/chisel3/util/Decoupled.scala:362:21
    .io_jump             (_branch_join_stack_3_io_jump),
    .io_newPC            (_branch_join_stack_3_io_newPC),
    .io_newMask          (_branch_join_stack_3_io_newMask)
  );
  assign io_branch_ctl_ready = _branch_ctl_buf_q_io_enq_ready;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7
  assign io_if_mask_ready = _fetch_ctl_buf_io_enq_ready;	// ventus/src/pipeline/branch_join.scala:65:7, :88:29
  assign io_out_mask = _GEN_6[io_input_wid];	// ventus/src/pipeline/branch_join.scala:65:7, :243:15
  assign io_complete_valid = io_complete_valid_0;	// ventus/src/pipeline/branch_join.scala:65:7, :120:82
  assign io_complete_bits = _branch_ctl_buf_q_io_deq_bits_wid;	// src/main/scala/chisel3/util/Decoupled.scala:362:21, ventus/src/pipeline/branch_join.scala:65:7
endmodule

