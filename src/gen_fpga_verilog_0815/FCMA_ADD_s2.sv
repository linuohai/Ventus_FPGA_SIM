// Generated by CIRCT firtool-1.62.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for prints and assertions.

// Users can define 'PRINTF_COND' to add an extra gate to prints.
`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

// Users can define 'ASSERT_VERBOSE_COND' to add an extra gate to assert error printing.
`ifndef ASSERT_VERBOSE_COND_
  `ifdef ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ (`ASSERT_VERBOSE_COND)
  `else  // ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ 1
  `endif // ASSERT_VERBOSE_COND
`endif // not def ASSERT_VERBOSE_COND_

// Users can define 'STOP_COND' to add an extra gate to stop conditions.
`ifndef STOP_COND_
  `ifdef STOP_COND
    `define STOP_COND_ (`STOP_COND)
  `else  // STOP_COND
    `define STOP_COND_ 1
  `endif // STOP_COND
`endif // not def STOP_COND_

module FCMA_ADD_s2(	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:333:7
  input  [2:0]  io_in_rm,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input         io_in_far_path_out_sign,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_near_path_out_sign,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [7:0]  io_in_near_path_out_exp,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input         io_in_special_case_valid,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_special_case_bits_iv,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_special_case_bits_nan,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_special_case_bits_inf_sign,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_small_add,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_far_path_mul_of,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [47:0] io_in_far_sig_a,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [51:0] io_in_far_sig_b,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [7:0]  io_in_far_exp_a_vec_0,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_far_exp_a_vec_1,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_far_exp_a_vec_2,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input         io_in_near_path_sig_is_zero,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_near_path_lza_error,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
                io_in_near_path_int_bit,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [48:0] io_in_near_path_sig_raw,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input  [5:0]  io_in_near_path_lzc,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  input         io_in_sel_far_path,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  output [31:0] io_result,	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
  output [4:0]  io_fflags	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:336:14
);

  wire [7:0]   near_path_res_exp;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:430:27
  wire [22:0]  _near_path_rounder_io_out;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _near_path_rounder_io_inexact;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _near_path_rounder_io_cout;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _near_path_tininess_rounder_io_tininess;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:445:42
  wire [22:0]  _far_path_rounder_io_out;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _far_path_rounder_io_inexact;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _far_path_rounder_io_cout;	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         _far_path_tininess_rounder_io_tininess;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:386:41
  wire [51:0]  _adder_result_T = {1'h0, io_in_far_sig_a, 3'h0} + io_in_far_sig_b;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:362:27, :363:37, dependencies/fpuv2/fudian/src/main/scala/fudian/package.scala:65:10
  wire         keep = _adder_result_T[51:50] == 2'h1;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:363:37, :366:{31,35}
  wire         cancellation = _adder_result_T[51:50] == 2'h0;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:363:37, :366:31, :367:43, :487:26
  wire [26:0]  _far_path_res_sig_T_21 =
    (_adder_result_T[51] ? {_adder_result_T[51:26], |(_adder_result_T[25:0])} : 27'h0)
    | (keep | io_in_small_add
         ? {_adder_result_T[50:25], |(_adder_result_T[24:0])}
         : 27'h0)
    | (cancellation & ~io_in_small_add
         ? {_adder_result_T[49:24], |(_adder_result_T[23:0])}
         : 27'h0);	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:363:37, :365:31, :366:35, :367:43, :370:{20,47,50}, :372:{24,36,56,68}, :373:{24,32,44,64,76}, :374:{24,32,44,64,76}, src/main/scala/chisel3/util/Mux.scala:30:73
  wire [7:0]   _far_path_res_exp_T_4 =
    (_adder_result_T[51] ? io_in_far_exp_a_vec_0 : 8'h0)
    | (keep ? io_in_far_exp_a_vec_1 : 8'h0)
    | (cancellation ? io_in_far_exp_a_vec_2 : 8'h0);	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:363:37, :365:31, :366:35, :367:43, src/main/scala/chisel3/util/Mux.scala:30:73
  wire         far_path_of =
    (&_far_path_res_exp_T_4) | _far_path_rounder_io_cout & _far_path_res_exp_T_4 == 8'hFE
    | io_in_far_path_mul_of;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:406:18, :407:58, :408:18, :411:57, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25, src/main/scala/chisel3/util/Mux.scala:30:73
  wire         far_path_ix = _far_path_rounder_io_inexact | far_path_of;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:411:57, :412:49, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         near_path_is_zero =
    near_path_res_exp == 8'h0 & io_in_near_path_sig_is_zero;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:424:{41,49}, :430:27, src/main/scala/chisel3/util/Mux.scala:30:73
  assign near_path_res_exp =
    io_in_near_path_int_bit
      ? io_in_near_path_out_exp - {2'h0, io_in_near_path_lzc}
        - {7'h0, io_in_near_path_lza_error}
      : 8'h0;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:398:55, :428:40, :429:23, :430:27, :487:26, src/main/scala/chisel3/util/Mux.scala:30:73
  wire [111:0] _sig_s1_T = {63'h0, io_in_near_path_sig_raw} << io_in_near_path_lzc;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:432:41
  wire [48:0]  sig_s2 =
    io_in_near_path_lza_error ? {_sig_s1_T[47:0], 1'h0} : _sig_s1_T[48:0];	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:432:{41,48}, :433:{19,50,62}, dependencies/fpuv2/fudian/src/main/scala/fudian/package.scala:65:10
  wire [7:0]   _near_path_exp_rounded_T =
    {7'h0, _near_path_rounder_io_cout} + near_path_res_exp;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:398:55, :430:27, :457:57, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         near_path_zero_sign = io_in_rm == 3'h2;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:459:38
  wire         near_path_ix = _near_path_rounder_io_inexact | (&_near_path_exp_rounded_T);	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:457:57, :466:44, :467:51, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
  wire         common_overflow =
    io_in_sel_far_path & far_path_of | ~io_in_sel_far_path & (&_near_path_exp_rounded_T);	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:411:57, :457:57, :466:44, :472:{18,33,36,50}
  wire         rmin =
    io_in_rm == 3'h1 | near_path_zero_sign & ~io_in_far_path_out_sign | io_in_rm == 3'h3
    & io_in_far_path_out_sign;	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:459:38, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:54:{8,31,34,41,48,56}
  TininessRounder far_path_tininess_rounder (	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:386:41
    .io_in_sign  (io_in_far_path_out_sign),
    .io_in_sig   (_far_path_res_sig_T_21),	// src/main/scala/chisel3/util/Mux.scala:30:73
    .io_rm       (io_in_rm),
    .io_tininess (_far_path_tininess_rounder_io_tininess)
  );
  RoundingUnit far_path_rounder (	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
    .io_in       (_far_path_res_sig_T_21[25:3]),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:392:27, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:45:33, src/main/scala/chisel3/util/Mux.scala:30:73
    .io_roundIn  (_far_path_res_sig_T_21[2]),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:392:27, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:46:{38,50}, src/main/scala/chisel3/util/Mux.scala:30:73
    .io_stickyIn (|(_far_path_res_sig_T_21[1:0])),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:392:27, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:47:{39,51}, src/main/scala/chisel3/util/Mux.scala:30:73
    .io_signIn   (io_in_far_path_out_sign),
    .io_rm       (io_in_rm),
    .io_out      (_far_path_rounder_io_out),
    .io_inexact  (_far_path_rounder_io_inexact),
    .io_cout     (_far_path_rounder_io_cout)
  );
  TininessRounder near_path_tininess_rounder (	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:445:42
    .io_in_sign  (io_in_near_path_out_sign),
    .io_in_sig   ({sig_s2[48:23], |(sig_s2[22:0])}),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:433:19, :442:{45,57,82,94}
    .io_rm       (io_in_rm),
    .io_tininess (_near_path_tininess_rounder_io_tininess)
  );
  RoundingUnit near_path_rounder (	// dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25
    .io_in       (sig_s2[47:25]),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:433:19, :451:28, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:45:33
    .io_roundIn  (sig_s2[24]),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:433:19, :451:28, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:46:{38,50}
    .io_stickyIn (|{sig_s2[23], |(sig_s2[22:0])}),	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:433:19, :442:{82,94}, :451:28, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:47:{39,51}
    .io_signIn   (io_in_near_path_out_sign),
    .io_rm       (io_in_rm),
    .io_out      (_near_path_rounder_io_out),
    .io_inexact  (_near_path_rounder_io_inexact),
    .io_cout     (_near_path_rounder_io_cout)
  );
  assign io_result =
    io_in_special_case_valid
      ? (io_in_special_case_bits_nan
           ? 32'h7FC00000
           : {io_in_special_case_bits_inf_sign, 31'h7F800000})
      : common_overflow
          ? {io_in_sel_far_path ? io_in_far_path_out_sign : io_in_near_path_out_sign,
             7'h7F,
             ~rmin,
             {23{rmin}}}
          : io_in_sel_far_path
              ? {io_in_far_path_out_sign,
                 {7'h0, _far_path_rounder_io_cout} + _far_path_res_exp_T_4,
                 _far_path_rounder_io_out}
              : {io_in_near_path_out_sign & ~near_path_is_zero | near_path_zero_sign
                   & near_path_is_zero,
                 _near_path_exp_rounded_T,
                 _near_path_rounder_io_out};	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:333:7, :346:32, :349:8, :398:55, :416:8, :424:49, :457:57, :459:38, :460:29, :461:{21,24,44,68}, :472:33, :474:8, :476:32, :482:8, :495:19, :498:8, :500:10, :501:10, dependencies/fpuv2/fudian/src/main/scala/fudian/RoundingUnit.scala:44:25, :54:41, dependencies/fpuv2/fudian/src/main/scala/fudian/package.scala:65:10, src/main/scala/chisel3/util/Mux.scala:30:73
  assign io_fflags =
    io_in_special_case_valid
      ? {io_in_special_case_bits_iv, 4'h0}
      : {2'h0,
         common_overflow,
         io_in_sel_far_path & io_in_small_add & _far_path_tininess_rounder_io_tininess
           & ~io_in_far_path_mul_of & far_path_ix | ~io_in_sel_far_path
           & _near_path_tininess_rounder_io_tininess & near_path_ix,
         io_in_sel_far_path & far_path_ix | ~io_in_sel_far_path & near_path_ix};	// dependencies/fpuv2/fudian/src/main/scala/fudian/FADD.scala:333:7, :356:32, :386:41, :403:46, :412:49, :445:42, :467:51, :472:{33,36}, :484:{18,33,50}, :486:{18,33,50}, :487:26, :504:19
endmodule

